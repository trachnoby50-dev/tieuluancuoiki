<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nike - Just Do It</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="shortcut icon" href="image/logo.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
  </head>
  <body>
    <section>
      <nav>
        <div class="logo">
          <h1>Shoe<span>s</span></h1>
        </div>

        <ul>
          <li><a href="#Home">Home</a></li>
          <li><a href="#Products">Products</a></li>
          <li><a href="#About">About</a></li>
          <li><a href="#Review">Review</a></li>
          <li><a href="#Services">Services</a></li>
        </ul>

        <div class="icons">
          <i class="fa-solid fa-heart"></i>
          <div class="cart-icon-container" onclick="toggleCart()">
            <i class="fa-solid fa-cart-shopping"></i>
            <span id="cartCount">0</span>
          </div>
          <i class="fa-solid fa-user"></i>
        </div>
      </nav>

      <div class="main" id="Home">
        <div class="main_content">
          <div class="main_text">
            <h1>NIKE<br /><span>Collection</span></h1>
            <p>
              Discover the latest Nike collection. Designed for comfort, styled
              for you. Just Do It.
            </p>
          </div>
          <div class="main_image">
            <img src="image/shoes.png" alt="Nike Shoe Hero" />
          </div>
        </div>
        <div class="button">
          <a href="#Products">SHOP NOW</a>
          <i class="fa-solid fa-chevron-right"></i>
        </div>
      </div>
    </section>

    <div class="products" id="Products">
      <h1>Products</h1>
      <div class="box">
        <div class="card">
          <div class="image">
            <img src="image/shoes1.png" alt="Nike Air 1" />
          </div>
          <div class="products_text">
            <h2>NIKE Air Red</h2>
            <h3>$100.00</h3>
            <button
              class="btn"
              onclick="addToCart('NIKE Air Red', 100.00, 'image/shoes1.png')"
            >
              Add To Cart
            </button>
          </div>
        </div>

        <div class="card">
          <div class="image">
            <img src="image/shoes2.png" alt="Nike Air Blue" />
          </div>
          <div class="products_text">
            <h2>NIKE Air Blue</h2>
            <h3>$150.00</h3>
            <button
              class="btn"
              onclick="addToCart('NIKE Air Blue', 150.00, 'image/shoes2.png')"
            >
              Add To Cart
            </button>
          </div>
        </div>

        <div class="card">
          <div class="image">
            <img src="image/shoes3.png" alt="Nike Jordan" />
          </div>
          <div class="products_text">
            <h2>NIKE Jordan</h2>
            <h3>$200.00</h3>
            <button
              class="btn"
              onclick="addToCart('NIKE Jordan', 200.00, 'image/shoes3.png')"
            >
              Add To Cart
            </button>
          </div>
        </div>

        <div class="card">
          <div class="image">
            <img src="image/shoes4.png" alt="Nike Green" />
          </div>
          <div class="products_text">
            <h2>NIKE Green</h2>
            <h3>$120.00</h3>
            <button
              class="btn"
              onclick="addToCart('NIKE Green', 120.00, 'image/shoes4.png')"
            >
              Add To Cart
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="about" id="About">
      <h1>Web<span>About</span></h1>
      <div class="about_main">
        <div class="about_image">
          <div class="image_contaner">
            <img src="image/red_shoes1.png" id="imagebox" alt="Main Shoe" />
          </div>
        </div>
        <div class="about_text">
          <p>
            Nike, Inc. is an American multinational corporation that is engaged
            in the design, development, manufacturing, and worldwide marketing
            and sales of footwear, apparel, equipment, accessories, and
            services.
          </p>
        </div>
      </div>
    </div>

    <div class="services" id="Services">
      <h1>Our<span>Services</span></h1>
      <div class="services_cards">
        <div class="services_box">
          <i class="fa-solid fa-truck-fast"></i>
          <h3>Fast Delivery</h3>
        </div>
        <div class="services_box">
          <i class="fa-solid fa-rotate-left"></i>
          <h3>10 Days Replacement</h3>
        </div>
        <div class="services_box">
          <i class="fa-solid fa-headset"></i>
          <h3>24 x 7 Support</h3>
        </div>
      </div>
    </div>

    <div class="login_form">
      <div class="left">
        <img src="image/logshoes.png" alt="Login Image" />
      </div>
      <div class="right">
        <h1>Welcome Back!</h1>
        <form action="#" method="post">
          <p>User Name</p>
          <div class="user">
            <i class="fa-solid fa-user"></i>
            <input
              type="text"
              name="user"
              placeholder="User Name"
              class="username"
            />
          </div>
          <p class="passworg_tag">Password</p>
          <div class="password">
            <i class="fa-solid fa-lock"></i>
            <input type="password" name="password" placeholder="Password" />
          </div>
         <button type="submit">Login</button>

<p style="text-align: center; margin-top: 15px; font-size: 14px;">
    Don't have an account? <a href="register.html" style="color: #c72092; font-weight: bold;">Sign Up</a>
</p>
<div class="loging_icon">
   ...
</div>

    <footer>
      <div class="footer_main">
        <div class="tag">
          <h1>Contact</h1>
          <a href="#"><i class="fa-solid fa-phone"></i> +84 123 456 789</a>
          <a href="#"><i class="fa-solid fa-envelope"></i> contact@nike.com</a>
        </div>
      </div>
    </footer>

    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h2>Your Cart</h2>
        <span class="close-cart" onclick="toggleCart()">&times;</span>
      </div>
      <div class="cart-items" id="cartItems"></div>
      <div class="cart-footer">
        <div class="total-price">Total: $<span id="cartTotal">0.00</span></div>
        <a href="payment.html" class="checkout-btn">Checkout Now</a>
      </div>
    </div>
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

    <script>
      // 1. Khởi tạo giỏ hàng từ LocalStorage
      let cart = JSON.parse(localStorage.getItem("myCart")) || [];
      updateCartUI();

      // 2. Hàm thêm vào giỏ
      function addToCart(name, price, image) {
        let existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity++;
        } else {
          cart.push({ name: name, price: price, image: image, quantity: 1 });
        }
        updateCartUI();
        openCart();
      }

      // 3. Hàm cập nhật giao diện
      function updateCartUI() {
        const cartItemsEl = document.getElementById("cartItems");
        const cartTotalEl = document.getElementById("cartTotal");
        const cartCountEl = document.getElementById("cartCount");

        cartItemsEl.innerHTML = "";
        let total = 0;
        let count = 0;

        cart.forEach((item, index) => {
          total += item.price * item.quantity;
          count += item.quantity;
          cartItemsEl.innerHTML += `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="item-details">
                            <h4>${item.name}</h4>
                            <p>$${item.price} x ${item.quantity}</p>
                        </div>
                        <i class="fa-solid fa-trash remove-btn" onclick="removeItem(${index})"></i>
                    </div>
                `;
        });

        cartTotalEl.innerText = total.toFixed(2);
        cartCountEl.innerText = count;

        // Lưu dữ liệu mới
        localStorage.setItem("myCart", JSON.stringify(cart));
        localStorage.setItem("cartTotal", total.toFixed(2));
      }

      // 4. Hàm xóa sản phẩm
      function removeItem(index) {
        cart.splice(index, 1);
        updateCartUI();
      }

      // 5. Hàm đóng mở Sidebar
      function toggleCart() {
        const sidebar = document.getElementById("cartSidebar");
        const overlay = document.getElementById("cartOverlay");
        sidebar.classList.toggle("active");
        overlay.classList.toggle("active");
      }

      function openCart() {
        document.getElementById("cartSidebar").classList.add("active");
        document.getElementById("cartOverlay").classList.add("active");
      }
    </script>
  </body>
</html>
